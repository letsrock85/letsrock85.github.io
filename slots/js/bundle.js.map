{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/SlotGame/SlotGame.js","webpack:///./src/js/SlotGame/Sound.js","webpack:///./src/js/SlotGame/components/Button.js","webpack:///./src/js/SlotGame/components/Controls.js","webpack:///./src/js/SlotGame/components/Info.js","webpack:///./src/js/SlotGame/components/Label.js","webpack:///./src/js/SlotGame/components/Loading.js","webpack:///./src/js/SlotGame/components/Paylines.js","webpack:///./src/js/SlotGame/components/Paytable.js","webpack:///./src/js/SlotGame/components/Reel.js","webpack:///./src/js/SlotGame/components/Slot.js","webpack:///./src/js/SlotGame/components/Tile.js","webpack:///./src/js/SlotGame/helpers.js","webpack:///./src/js/SlotGame/index.js","webpack:///./src/js/SlotGame/screens/GameOverScreen.js","webpack:///./src/js/SlotGame/screens/GameScreen.js","webpack:///./src/js/SlotGame/screens/PaytableScreen.js","webpack:///./src/js/SlotGame/screens/Screen.js","webpack:///./src/js/SlotGame/state.js","webpack:///./src/js/main.js","webpack:///external \"PIXI\""],"names":["defaultOptions","root","reels","lines","width","height","balance","wager","wagerStep","maxWager","spinTime","stopDelay","sounds","paylines","SlotGame","options","config","Object","assign","state","loadScreen","bind","onProgressAssets","onAssetsComplete","loading","Loading","x","y","screens","game","GameScreen","gameover","GameOverScreen","paytable","PaytableScreen","currentScreen","app","loader","init","destroy","appOptions","backgroundColor","PIXI","document","querySelector","appendChild","view","Loader","entries","forEach","id","Screen","screen","update","reset","stage","addChild","once","load","cb","Error","removeChild","ticker","remove","add","resource","progress","url","values","sound","stop","Sound","audio","clones","time","pause","currentTime","play","loop","value","volume","Button","style","fontSize","fontWeight","stroke","strokeThickness","dropShadow","dropShadowColor","dropShadowBlur","dropShadowAngle","Math","PI","dropShadowDistance","button","on","click","enable","fill","buttonMode","interactive","Controls","border","borderWidth","lineStyle","beginFill","drawRect","btnPaytable","btnWagerUp","btnWagerDown","btnSpin","btnAutoSpin","btnCheatSpin","elms","spaceAroundX","Info","balanceLabel","Label","winLabel","wagerLabel","frame","endFill","progressContainer","progressBar","progressStyle","lineHeight","progressText","assetStyle","wordWrap","wordWrapWidth","align","assetText","percent","assetName","text","toFixed","Paylines","paylinesLabel","Paytable","symbols","multipliers","padding","actual","symbolId","data","symbolIndex","findIndex","s","factors","filter","num","factor","push","elements","map","createBlock","el","i","floor","container","tileData","tile","Tile","label","Reel","length","mask","blurFilter","BlurYFilter","strength","filters","result","tiles","tileWidth","tileHeight","speed","isSpining","isStopping","createTiles","abs","console","log","emit","index","pop","random","nextTile","sprite","texture","delta","children","getSpeed","onSpinComplete","maxY","addChildAt","changeTile","Slot","currentReel","onReelSpinComplete","reelWidth","reel","change","setTimeout","spining","isEqualReels","isEqualLines","line","join","isCorrectResult","reelResult","row","spin","stopReels","ratio","min","orig","scale","set","anchor","position","sumWidth","reduce","sum","margin","offset","spaceAroundY","sumHeight","ctx","autoSpinValue","balanceValue","wagerValue","winValue","slot","paylinesPanel","info","controls","wagerUp","wagerDown","spinAuto","cheatSpin","updateButtonStatus","name","marginY","marginX","panelWidth","panelHeight","slotWidth","slotHeight","initSymbols","initSounds","initPaylines","createSlot","createPaylines","createInfo","createControls","win","autoSpinMode","sheet","resources","textures","asset","isAudio","found","find","victory","autoSpinDelay","j","winLine","winSymbolIndex","genSuccessedResult","spinReels","genRandomResult","disable","setFill","paylable","Paylable","initialState","State","addEventListener","genStartGameButtons","sizes","createElement","textContent","window","newGame","body"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import * as PIXI from 'pixi.js';\r\nimport Loading from './components/Loading';\r\nimport GameScreen from './screens/GameScreen';\r\nimport GameOverScreen from './screens/GameOverScreen';\r\nimport PaytableScreen from './screens/PaytableScreen';\r\nimport paylines from './data/paylines.json';\r\nimport state from './state';\r\n\r\nconst defaultOptions = {\r\n  // size\r\n  root: '.root',\r\n  reels: 3,\r\n  lines: 3,\r\n  width: 640,\r\n  height: 480,\r\n  // money\r\n  // balance: 10000,\r\n  balance: 1500,\r\n  wager: 100,\r\n  wagerStep: 100,\r\n  maxWager: 500,\r\n  // interface\r\n  spinTime: 1000,\r\n  stopDelay: 200,\r\n  sounds: [],\r\n  // data\r\n  paylines,\r\n};\r\n\r\nclass SlotGame {\r\n  constructor(options = {}) {\r\n    const config = Object.assign(state, defaultOptions, options);\r\n    this.config = config;\r\n\r\n    // bindings\r\n    this.loadScreen = this.loadScreen.bind(this);\r\n    this.onProgressAssets = this.onProgressAssets.bind(this);\r\n    this.onAssetsComplete = this.onAssetsComplete.bind(this);\r\n\r\n    // Loading box\r\n    const loading = new Loading();\r\n    loading.x = (config.width - loading.width) / 2;\r\n    loading.y = (config.height - loading.height) / 2;\r\n\r\n    // Members\r\n    this.screens = {\r\n      game: GameScreen,\r\n      gameover: GameOverScreen,\r\n      paytable: PaytableScreen,\r\n    };\r\n    this.currentScreen = null;\r\n    this.app = null;\r\n    this.loader = null;\r\n    this.loading = loading;\r\n    this.state = state;\r\n\r\n    // init\r\n    this.init();\r\n  }\r\n\r\n  init(options = {}) {\r\n    const { config, screens, loading, onProgressAssets, onAssetsComplete } = this;\r\n\r\n    // Update options\r\n    if (options) Object.assign(config, options);\r\n\r\n    // Destroy prev game\r\n    if (this.app) this.destroy();\r\n\r\n    // create app\r\n    const appOptions = {\r\n      width: config.width,\r\n      height: config.height,\r\n      backgroundColor: 0x1099bb,\r\n    };\r\n    const app = new PIXI.Application(appOptions);\r\n    document.querySelector(config.root).appendChild(app.view);\r\n    this.app = app;\r\n\r\n    // loader for Screen\r\n    const loader = new PIXI.loaders.Loader();\r\n    this.loader = loader;\r\n\r\n    // Init screens\r\n    Object.entries(screens).forEach(([id, Screen]) => {\r\n      const screen = new Screen(this);\r\n      screen.update = screen.update.bind(screen);\r\n      this.screens[id] = screen;\r\n    });\r\n\r\n    // load all assets\r\n    loading.reset();\r\n    app.stage.addChild(loading);\r\n    loader.once('progress', onProgressAssets).load(onAssetsComplete);\r\n  }\r\n\r\n  loadScreen(id, cb) {\r\n    const { screens, app, currentScreen } = this;\r\n\r\n    const screen = screens[id];\r\n    if (!screen) throw new Error(`screen ${id} not found!`);\r\n\r\n    // change screen\r\n    if (currentScreen !== screen) {\r\n      app.stage.removeChild(currentScreen);\r\n      app.stage.addChild(screen);\r\n      // ticker\r\n      if (currentScreen) app.ticker.remove(currentScreen.update);\r\n      app.ticker.add(screen.update);\r\n      this.currentScreen = screen;\r\n    }\r\n\r\n    if (cb) cb(screen);\r\n  }\r\n\r\n  onProgressAssets(loader, resource) {\r\n    this.loading.progress(loader.progress, resource.url);\r\n  }\r\n\r\n  onAssetsComplete() {\r\n    const { loading, app, loadScreen } = this;\r\n    this.loading.progress(100);\r\n    app.stage.removeChild(loading);\r\n    // show main screen\r\n    loadScreen('game');\r\n    // loadScreen('paytable');\r\n  }\r\n\r\n  destroy() {\r\n    const { app, currentScreen, loader } = this;\r\n    currentScreen.destroy(true);\r\n    app.destroy(true);\r\n    loader.destroy();\r\n    this.currentScreen = null;\r\n    this.app = null;\r\n    Object.values(state.sounds).forEach(sound => sound.stop());\r\n    state.reset();\r\n  }\r\n}\r\n\r\nexport default SlotGame;\r\n","export default class Sound {\r\n  constructor(audio) {\r\n    this.audio = audio;\r\n    this.clones = [];\r\n  }\r\n\r\n  play(time = 0) {\r\n    const { audio } = this;\r\n    audio.pause();\r\n    audio.currentTime = time;\r\n    audio.play();\r\n  }\r\n\r\n  pause() {\r\n    const { audio } = this;\r\n    audio.pause();\r\n  }\r\n\r\n  loop() {\r\n    const { audio } = this;\r\n    audio.loop = true;\r\n    audio.play();\r\n  }\r\n\r\n  stop() {\r\n    const { audio } = this;\r\n    audio.currentTime = 0;\r\n    audio.loop = false;\r\n    audio.pause();\r\n  }\r\n\r\n  volume(value) {\r\n    const { audio } = this;\r\n    audio.volume = value;\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport state from '../state';\r\n\r\nexport default class Button extends PIXI.Container {\r\n  constructor(value) {\r\n    super();\r\n\r\n    const style = new PIXI.TextStyle({\r\n      fontSize: 20,\r\n      fontWeight: 'bold',\r\n      stroke: '#4a1850',\r\n      strokeThickness: 5,\r\n      dropShadow: true,\r\n      dropShadowColor: '#000000',\r\n      dropShadowBlur: 3,\r\n      dropShadowAngle: Math.PI / 6,\r\n      dropShadowDistance: 1,\r\n    });\r\n\r\n    const button = new PIXI.Text(value, style);\r\n    this.addChild(button);\r\n\r\n    // handlers\r\n    this.on('pointertap', () => state.sounds.click.play());\r\n\r\n    // Members\r\n    this.button = button;\r\n\r\n    // Enabled by default\r\n    this.enable();\r\n  }\r\n\r\n  setFill(fill) {\r\n    const { button } = this;\r\n    button.style.fill = fill;\r\n  }\r\n\r\n  disable() {\r\n    const { button } = this;\r\n    this.buttonMode = false;\r\n    this.interactive = false;\r\n    button.style.fill = ['#ffffff', '#cccccc'];\r\n  }\r\n\r\n  enable() {\r\n    const { button } = this;\r\n    this.buttonMode = true;\r\n    this.interactive = true;\r\n    button.style.fill = ['#ffffff', '#00ff99'];\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Button from './Button';\r\nimport { spaceAroundX } from '../helpers';\r\n\r\nexport default class Controls extends PIXI.Container {\r\n  constructor(width, height) {\r\n    super();\r\n    // Size\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    // Border\r\n    const border = new PIXI.Graphics();\r\n    const borderWidth = 5;\r\n    border.lineStyle(borderWidth, 0xdbeff7);\r\n    border.beginFill(0xc5defd, 0.5);\r\n    border.drawRect(0, 0, width, height);\r\n    this.addChild(border);\r\n\r\n    // Show paytable button\r\n    const btnPaytable = new Button('Paytable');\r\n    this.addChild(btnPaytable);\r\n\r\n    // Wager up button\r\n    const btnWagerUp = new Button(`UP`);\r\n    this.addChild(btnWagerUp);\r\n\r\n    // Wager down button\r\n    const btnWagerDown = new Button(`DOWN`);\r\n    this.addChild(btnWagerDown);\r\n\r\n    // Spin button\r\n    const btnSpin = new Button('Spin');\r\n    this.addChild(btnSpin);\r\n\r\n    // Auto spin button\r\n    const btnAutoSpin = new Button('Auto');\r\n    this.addChild(btnAutoSpin);\r\n\r\n    // Cheat spin button\r\n    const btnCheatSpin = new Button('Cheat');\r\n    this.addChild(btnCheatSpin);\r\n\r\n    // Positions\r\n    const elms = [btnPaytable, btnWagerDown, btnWagerUp, btnSpin, btnAutoSpin, btnCheatSpin];\r\n    spaceAroundX(width, height, ...elms);\r\n\r\n    // Members\r\n    this.btnSpin = btnSpin;\r\n    this.btnAutoSpin = btnAutoSpin;\r\n    this.btnCheatSpin = btnCheatSpin;\r\n    this.btnWagerUp = btnWagerUp;\r\n    this.btnWagerDown = btnWagerDown;\r\n    this.btnPaytable = btnPaytable;\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Label from './Label';\r\nimport { spaceAroundX } from '../helpers';\r\n\r\nexport default class Info extends PIXI.Container {\r\n  constructor(width, height) {\r\n    super();\r\n    // Size\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    // Border\r\n    const border = new PIXI.Graphics();\r\n    const borderWidth = 5;\r\n    border.lineStyle(borderWidth, 0xdbeff7);\r\n    border.beginFill(0xfff000, 0.5);\r\n    border.drawRect(0, 0, width, height);\r\n    this.addChild(border);\r\n\r\n    // Balance\r\n    const balanceLabel = new Label(`Balance: 0`);\r\n    this.addChild(balanceLabel);\r\n\r\n    // Win\r\n    const winLabel = new Label(`Win: 0`);\r\n    this.addChild(winLabel);\r\n\r\n    // Wager\r\n    const wagerLabel = new Label(`Wager: 0`);\r\n    this.addChild(wagerLabel);\r\n\r\n    // Positions\r\n    const elms = [balanceLabel, wagerLabel, winLabel];\r\n    spaceAroundX(width, height, ...elms);\r\n\r\n    // Members\r\n    this.balanceLabel = balanceLabel;\r\n    this.winLabel = winLabel;\r\n    this.wagerLabel = wagerLabel;\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import * as PIXI from 'pixi.js';\r\n\r\nexport default class Label extends PIXI.Text {\r\n  constructor(value) {\r\n    super(value);\r\n\r\n    const style = new PIXI.TextStyle({\r\n      fontSize: 18,\r\n      fill: ['#dbeff7', '#a5d9ec'],\r\n      stroke: '#666666',\r\n      strokeThickness: 1,\r\n      dropShadow: true,\r\n      dropShadowColor: '#000000',\r\n      dropShadowBlur: 2,\r\n      dropShadowAngle: Math.PI / 6,\r\n      dropShadowDistance: 1,\r\n    });\r\n\r\n    this.style = style;\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import * as PIXI from 'pixi.js';\r\n\r\nexport default class Loading extends PIXI.Container {\r\n  constructor(width = 250, height = 60) {\r\n    super();\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    // frame\r\n    const frame = new PIXI.Graphics();\r\n    frame.beginFill(0xc5defd);\r\n    frame.drawRect(0, 0, width, height);\r\n    frame.endFill();\r\n    this.addChild(frame);\r\n\r\n    // progress bar container\r\n    const progressContainer = new PIXI.Graphics();\r\n    progressContainer.beginFill(0x6897bb);\r\n    progressContainer.drawRect(0, 0, width, 30);\r\n    progressContainer.endFill();\r\n    frame.addChild(progressContainer);\r\n\r\n    // progress bar\r\n    const progressBar = new PIXI.Graphics();\r\n    progressBar.beginFill(0x3c627e);\r\n    progressBar.drawRect(0, 0, progressContainer.width, progressContainer.height);\r\n    progressBar.endFill();\r\n    // progressBar.position.set(0, 0);\r\n    progressBar.width = 0;\r\n    progressContainer.addChild(progressBar);\r\n\r\n    // progress text\r\n    const progressStyle = new PIXI.TextStyle({\r\n      fontWeight: 'bold',\r\n      fontSize: progressContainer.height * 0.75,\r\n      lineHeight: progressContainer.height * 0.75,\r\n      fill: '#fff',\r\n    });\r\n    const progressText = new PIXI.Text('0%', progressStyle);\r\n    progressText.y = (progressContainer.height - progressText.height) / 2;\r\n    progressContainer.addChild(progressText);\r\n\r\n    // current loading asset\r\n    const assetStyle = new PIXI.TextStyle({\r\n      fontSize: 15,\r\n      wordWrap: true,\r\n      wordWrapWidth: frame.width,\r\n      align: 'center',\r\n    });\r\n    const assetText = new PIXI.Text('', assetStyle);\r\n    frame.addChild(assetText);\r\n    assetText.x = 0;\r\n    assetText.y = progressContainer.height + 10;\r\n\r\n    // Members\r\n    this.assetText = assetText;\r\n    this.progressContainer = progressContainer;\r\n    this.progressText = progressText;\r\n    this.progressBar = progressBar;\r\n  }\r\n\r\n  progress(percent, assetName = '') {\r\n    const { assetText, progressContainer, progressBar, progressText } = this;\r\n    assetText.text = `${assetName}`;\r\n    progressText.text = `${percent.toFixed()}%`;\r\n    progressText.x = (progressContainer.width - progressText.width) / 2;\r\n    progressBar.width = (this.progressContainer.width * percent) / 100;\r\n  }\r\n\r\n  reset() {\r\n    this.progress(0);\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Label from './Label';\r\nimport Button from './Button';\r\nimport { spaceAroundX } from '../helpers';\r\n\r\nexport default class Paylines extends PIXI.Container {\r\n  constructor(width, height) {\r\n    super();\r\n    // Size\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    // Border\r\n    const border = new PIXI.Graphics();\r\n    const borderWidth = 5;\r\n    border.lineStyle(borderWidth, 0xdbeff7);\r\n    border.beginFill(0xb7b7ff, 0.5);\r\n    border.drawRect(0, 0, width, height);\r\n    this.addChild(border);\r\n\r\n    // Payline label\r\n    const paylinesLabel = new Label(`Paylines:`);\r\n    this.addChild(paylinesLabel);\r\n\r\n    // Wager up button\r\n    const btnWagerUp = new Button(`1`);\r\n    this.addChild(btnWagerUp);\r\n\r\n    // Positions\r\n    const elms = [paylinesLabel, btnWagerUp];\r\n    spaceAroundX(width, height, ...elms);\r\n\r\n    // Members\r\n    // this.btnPaytable = btnPaytable;\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Label from './Label';\r\nimport Tile from './Tile';\r\nimport state from '../state';\r\n\r\nexport default class Paytable extends PIXI.Container {\r\n  constructor(width, height) {\r\n    super();\r\n\r\n    const { lines, symbols, multipliers } = state;\r\n\r\n    // Border\r\n    const border = new PIXI.Graphics();\r\n    border.lineStyle(5, 0xdbeff7);\r\n    const padding = 1;\r\n    border.drawRect(0, 0, width * padding, height * padding);\r\n    this.addChild(border);\r\n\r\n    // get actual multipliers\r\n    const actual = [];\r\n    Object.entries(multipliers).forEach(([symbolId, data]) => {\r\n      const symbolIndex = symbols.findIndex(s => s.id === symbolId);\r\n      const factors = Object.entries(data).filter(([num]) => +num <= lines);\r\n      if (factors) {\r\n        factors.forEach(([num, factor]) => actual.push({ symbolIndex, num, factor }));\r\n      }\r\n    });\r\n\r\n    // create blocks\r\n    const elements = actual.map(data => this.createBlock(data));\r\n    // const maxRows = Math.floor(height / elements[0].heigt);\r\n    elements.forEach((el, i) => {\r\n      el.y = (el.height * i) % height;\r\n      el.x = Math.floor((el.height * i) / height) * el.width;\r\n      this.addChild(el);\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  createBlock({ symbolIndex, num, factor }) {\r\n    const { symbols } = state;\r\n\r\n    const width = 30;\r\n    const height = 30;\r\n\r\n    const container = new PIXI.Container();\r\n\r\n    // tile\r\n    const tileData = { ...symbols[symbolIndex], width, height };\r\n    const tile = new Tile(tileData);\r\n    container.addChild(tile);\r\n\r\n    // label\r\n    const label = new Label(` x ${num} \\t = wage * ${factor}`);\r\n    label.x = width + 10;\r\n    label.y = (height - label.height) / 2;\r\n    container.addChild(label);\r\n\r\n    return container;\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Tile from './Tile';\r\nimport state from '../state';\r\n\r\nexport default class Reel extends PIXI.Container {\r\n  constructor(options) {\r\n    super();\r\n\r\n    const { width, height, lines } = options;\r\n    const { symbols } = state;\r\n\r\n    // validate options\r\n    if (lines < 3) throw new Error(`The minimum number of lines is 3`);\r\n    if (symbols.length < 3) throw new Error(`The minimum number of symbols is 3`);\r\n\r\n    // Border\r\n    const border = new PIXI.Graphics();\r\n    border.lineStyle(5, 0xdbeff7);\r\n    const padding = 1;\r\n    border.drawRect(0, 0, width * padding, height * padding);\r\n    this.addChild(border);\r\n\r\n    // Mask\r\n    const mask = new PIXI.Graphics();\r\n    mask.beginFill(0);\r\n    mask.drawRect(0, 0, width, height);\r\n    mask.endFill();\r\n    this.addChild(mask);\r\n\r\n    // Container with mask\r\n    const container = new PIXI.Container();\r\n    container.mask = mask;\r\n    this.addChild(container);\r\n\r\n    // filter\r\n    const blurFilter = new PIXI.filters.BlurYFilter();\r\n    blurFilter.strength = 0;\r\n    this.filters = [blurFilter];\r\n\r\n    // Members\r\n    this.result = null;\r\n    this.lines = lines;\r\n    this.tiles = [];\r\n    this.tileWidth = width;\r\n    this.tileHeight = height / lines;\r\n    this.speed = 20;\r\n    this.isSpining = false;\r\n    this.isStopping = false;\r\n    this.container = container;\r\n    this.blurFilter = blurFilter;\r\n\r\n    this.createTiles();\r\n  }\r\n\r\n  createTiles() {\r\n    const { lines, container, tileWidth, tileHeight } = this;\r\n    const { symbols } = state;\r\n\r\n    // +2 for circular rotation\r\n    for (let i = 0; i < lines + 2; i += 1) {\r\n      // first visible tile has symbol index = 0\r\n      const symbolIndex = Math.abs(i - 1) % lines;\r\n      // create tile\r\n      const tileData = { ...symbols[symbolIndex], width: tileWidth, height: tileHeight };\r\n      const tile = new Tile(tileData);\r\n      tile.y = i * tileHeight - tileHeight;\r\n      container.addChild(tile);\r\n      this.tiles.push(tile);\r\n    }\r\n  }\r\n\r\n  spin(result) {\r\n    const { blurFilter } = this;\r\n    console.log(`Reel.spin:: result: ${result}`);\r\n\r\n    // filter\r\n    blurFilter.strength = 0;\r\n\r\n    // set state\r\n    this.result = result;\r\n    this.isSpining = true;\r\n  }\r\n\r\n  stop() {\r\n    this.isStopping = true;\r\n  }\r\n\r\n  onSpinComplete() {\r\n    // filter\r\n    this.blurFilter.strength = 0;\r\n\r\n    // set state\r\n    this.isSpining = false;\r\n    this.isStopping = false;\r\n    this.emit('reelspincomplete', this);\r\n  }\r\n\r\n  changeTile(tile) {\r\n    const { result, isStopping } = this;\r\n    const { symbols } = state;\r\n\r\n    // change to symbol\r\n    const index = isStopping ? result.pop() : Math.floor(Math.random() * symbols.length);\r\n\r\n    const nextTile = symbols[index];\r\n    tile.id = nextTile.id;\r\n    tile.sprite.texture = nextTile.texture;\r\n  }\r\n\r\n  getSpeed(delta) {\r\n    const { result, container } = this;\r\n\r\n    let speed = delta * this.speed;\r\n\r\n    // correct final position\r\n    if (!result.length) {\r\n      speed = 0 - container.children[0].y;\r\n    }\r\n\r\n    return speed;\r\n  }\r\n\r\n  update(delta) {\r\n    const { isSpining, tiles, lines, tileHeight, container, result } = this;\r\n\r\n    if (!isSpining) return;\r\n\r\n    // move tiles\r\n    const speed = this.getSpeed(delta);\r\n    tiles.forEach(tile => {\r\n      tile.y += speed;\r\n    });\r\n\r\n    // if it's final position\r\n    if (!result.length) {\r\n      this.onSpinComplete();\r\n      return;\r\n    }\r\n\r\n    // filter\r\n    this.blurFilter.strength = speed * 0.3;\r\n\r\n    // circular\r\n    const maxY = tileHeight * lines + tileHeight;\r\n    tiles.forEach(tile => {\r\n      if (tile.y + container.y > maxY) {\r\n        // move tile to top\r\n        tile.y = container.children[0].y - tileHeight;\r\n        container.addChildAt(tile, 0);\r\n        // and change\r\n        this.changeTile(tile);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Reel from './Reel';\r\nimport state from '../state';\r\n\r\nexport default class Slot extends PIXI.Container {\r\n  constructor(options) {\r\n    super();\r\n\r\n    const { width, height, reels, lines, spinTime = 1500, stopDelay = 400 } = options;\r\n\r\n    // validate options\r\n    if (!width || !height) throw new Error(`No width and height specified`);\r\n    if (!reels || reels < 3) throw new Error(`The minimum number of reels is 3`);\r\n\r\n    // Members\r\n    this.reels = [];\r\n    this.currentReel = null;\r\n    this.result = null;\r\n    this.isSpining = false;\r\n    this.spinTime = spinTime;\r\n    this.stopDelay = stopDelay;\r\n\r\n    // Binding\r\n    this.onReelSpinComplete = this.onReelSpinComplete.bind(this);\r\n\r\n    // create reels\r\n    const reelWidth = width / reels;\r\n    for (let i = 0; i < reels; i += 1) {\r\n      const reel = new Reel({\r\n        width: reelWidth,\r\n        height,\r\n        lines,\r\n      });\r\n      reel.x = i * reelWidth;\r\n      this.addChild(reel);\r\n      reel.on('reelspincomplete', this.onReelSpinComplete);\r\n      this.reels.push(reel);\r\n    }\r\n  }\r\n\r\n  onReelSpinComplete() {\r\n    const { reels, result, stopDelay } = this;\r\n    this.currentReel += 1;\r\n    state.sounds.change.play();\r\n\r\n    // stop next reel\r\n    if (this.currentReel < reels.length) {\r\n      setTimeout(() => reels[this.currentReel].stop(), stopDelay);\r\n      return;\r\n    }\r\n\r\n    // all reels completed\r\n    this.currentReel = 0;\r\n    this.isSpining = false;\r\n    state.sounds.spining.stop();\r\n    this.emit('slotspincomplete', result);\r\n  }\r\n\r\n  isCorrectResult(result) {\r\n    const { reels, lines } = this;\r\n    const isEqualReels = result.length === reels;\r\n    const isEqualLines = result[0].length === lines;\r\n    return isEqualReels && isEqualLines;\r\n  }\r\n\r\n  spinReels(result) {\r\n    const { reels, spinTime, isSpining } = this;\r\n\r\n    console.log(`Slot.spinReels:: result:`);\r\n    console.log(result.map(line => `${line.join()}\\n`).join(``));\r\n\r\n    if (isSpining) return;\r\n\r\n    // Check result array\r\n    if (this.isCorrectResult(result)) {\r\n      throw new Error(`Result array is incorrect`);\r\n    }\r\n\r\n    // set states\r\n    this.isSpining = true;\r\n    this.currentReel = 0;\r\n    this.result = result;\r\n    state.sounds.spining.volume(0.1);\r\n    state.sounds.spining.loop();\r\n\r\n    // start spin\r\n    reels.forEach((reel, i) => {\r\n      const reelResult = result.map(row => row[i]);\r\n      reel.spin(reelResult);\r\n    });\r\n    this.emit('slotspininit');\r\n\r\n    // stop\r\n    setTimeout(() => this.stopReels(), spinTime);\r\n  }\r\n\r\n  stopReels() {\r\n    const { reels } = this;\r\n    reels[0].stop();\r\n  }\r\n\r\n  update(delta) {\r\n    this.reels.forEach(reel => reel.update(delta));\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\n\r\nexport default class Tile extends PIXI.Container {\r\n  constructor(options) {\r\n    super();\r\n\r\n    const { id, texture, width, height } = options;\r\n\r\n    // validate options\r\n    if (!id) throw new Error(`id is needed to create a symbol`);\r\n    if (!texture) throw new Error(`texture is needed to create a symbol`);\r\n    if (!width || !height) throw new Error(`width and height are needed to create a symbol`);\r\n\r\n    // create sprite\r\n    const sprite = new PIXI.Sprite();\r\n    // scaling\r\n    const ratio = Math.min(width / texture.orig.width, height / texture.orig.height) * 0.9;\r\n    sprite.scale.set(ratio, ratio);\r\n    sprite.anchor.set(0.5, 0.5);\r\n    sprite.position.set(width * 0.5, height * 0.5);\r\n    sprite.texture = texture;\r\n    this.addChild(sprite);\r\n\r\n    // Members\r\n    this.id = id;\r\n    this.sprite = sprite;\r\n  }\r\n\r\n  update() {}\r\n}\r\n","export function spaceAroundX(width, height, ...elms) {\r\n  const sumWidth = elms.reduce((sum, el) => sum + el.width, 0);\r\n  const margin = (width - sumWidth) / elms.length;\r\n  // element positioning\r\n  for (let i = 0, offset = 0; i < elms.length; i += 1) {\r\n    const el = elms[i];\r\n    el.x = offset + margin / 2;\r\n    el.y = (height - el.height) / 2;\r\n    offset += el.width + margin;\r\n  }\r\n}\r\n\r\nexport function spaceAroundY(width, height, ...elms) {\r\n  const sumHeight = elms.reduce((sum, el) => sum + el.height, 0);\r\n  const margin = (height - sumHeight) / elms.length;\r\n  // element positioning\r\n  for (let i = 0, offset = 0; i < elms.length; i += 1) {\r\n    const el = elms[i];\r\n    el.y = offset + margin / 2;\r\n    el.x = (width - el.width) / 2;\r\n    offset += el.height + margin;\r\n  }\r\n}\r\n\r\nexport default { spaceAroundX, spaceAroundY };\r\n","import SlotGame from './SlotGame';\r\n\r\nexport default SlotGame;\r\n","import * as PIXI from 'pixi.js';\r\nimport Screen from './Screen';\r\nimport Label from '../components/Label';\r\nimport Button from '../components/Button';\r\nimport { spaceAroundY } from '../helpers';\r\n\r\nexport default class GameOverScreen extends Screen {\r\n  constructor(ctx) {\r\n    super(ctx);\r\n    this.loader.once('complete', () => this.init());\r\n  }\r\n\r\n  init() {\r\n    const { config, app } = this;\r\n    const width = 200;\r\n    const height = 100;\r\n\r\n    // frame\r\n    const frame = new PIXI.Graphics();\r\n    frame.beginFill(0xc5defd);\r\n    frame.drawRect(0, 0, width, height);\r\n    frame.endFill();\r\n    frame.x = (app.screen.width - width) / 2;\r\n    frame.y = (app.screen.height - height) / 2;\r\n    this.addChild(frame);\r\n\r\n    // label\r\n    const label = new Label('Game over!');\r\n    label.style.fontSize = 30;\r\n    label.y = (height - label.height) / 2;\r\n    frame.addChild(label);\r\n\r\n    // button\r\n    const button = new Button('Restart');\r\n    button.y = (height - button.height) / 2;\r\n    frame.addChild(button);\r\n\r\n    // restart game\r\n    button.on('pointertap', () => {\r\n      this.loadScreen('game', game => {\r\n        game.balance = config.balance;\r\n      });\r\n    });\r\n\r\n    // Positions\r\n    const elms = [label, button];\r\n    spaceAroundY(width, height, ...elms);\r\n\r\n    // Members\r\n    this.label = label;\r\n    this.button = button;\r\n  }\r\n}\r\n","// import * as PIXI from 'pixi.js';\r\nimport Screen from './Screen';\r\nimport Slot from '../components/Slot';\r\nimport Info from '../components/Info';\r\nimport Controls from '../components/Controls';\r\nimport Paylines from '../components/Paylines';\r\nimport Sound from '../Sound';\r\nimport state from '../state';\r\n\r\nexport default class GameScreen extends Screen {\r\n  constructor(ctx) {\r\n    super(ctx);\r\n\r\n    // Members\r\n    this.paylines = [];\r\n    this.autoSpinValue = false;\r\n    this.balanceValue = null;\r\n    this.wagerValue = null;\r\n    this.winValue = null;\r\n\r\n    // Elements\r\n    this.slot = null;\r\n    this.paylinesPanel = null;\r\n    this.info = null;\r\n    this.controls = null;\r\n\r\n    // Binding\r\n    this.init = this.init.bind(this);\r\n    this.wagerUp = this.wagerUp.bind(this);\r\n    this.wagerDown = this.wagerDown.bind(this);\r\n    this.spin = this.spin.bind(this);\r\n    this.spinAuto = this.spinAuto.bind(this);\r\n    this.cheatSpin = this.cheatSpin.bind(this);\r\n    this.updateButtonStatus = this.updateButtonStatus.bind(this);\r\n    this.onSpinComplete = this.onSpinComplete.bind(this);\r\n\r\n    // Load assets\r\n    // PIXI.loader\r\n    this.loader\r\n      // add assets\r\n      .add([\r\n        { name: 'click', url: 'assets/sounds/click.mp3' }, //\r\n        { name: 'change', url: 'assets/sounds/change.mp3' },\r\n        { name: 'spining', url: 'assets/sounds/spining.mp3' },\r\n        { name: 'victory', url: 'assets/sounds/victory.mp3' },\r\n        { name: 'gameover', url: 'assets/sounds/gameover.mp3' },\r\n      ])\r\n      .add('symbols', 'assets/symbols.json')\r\n      .once('complete', this.init);\r\n  }\r\n\r\n  init() {\r\n    const { config } = this;\r\n\r\n    // Calc size of elements\r\n    const marginY = 10;\r\n    const marginX = 10;\r\n    const panelWidth = config.width - 20;\r\n    const panelHeight = 40;\r\n    const slotWidth = config.width * 0.69;\r\n    const slotHeight = config.height - panelHeight * 3 - marginY * 7;\r\n\r\n    // Data preparation\r\n    this.initSymbols();\r\n    this.initSounds();\r\n    this.initPaylines();\r\n\r\n    // Create panels\r\n    const slot = this.createSlot(slotWidth, slotHeight);\r\n    const paylines = this.createPaylines(panelWidth, panelHeight);\r\n    const info = this.createInfo(panelWidth, panelHeight);\r\n    const controls = this.createControls(panelWidth, panelHeight);\r\n\r\n    // Positions\r\n    slot.position.set((config.width - slotWidth) / 2, marginY);\r\n    paylines.position.set(marginX, slot.y + slot.height + marginY);\r\n    info.position.set(marginX, paylines.y + paylines.height + marginY);\r\n    controls.position.set(marginX, info.y + info.height + marginY);\r\n\r\n    // Members\r\n    this.slot = slot;\r\n    this.paylines = paylines;\r\n    this.info = info;\r\n    this.controls = controls;\r\n\r\n    // set initial values\r\n    this.balance = config.balance;\r\n    this.wager = config.wager;\r\n    this.win = 0;\r\n    this.autoSpinMode = false;\r\n\r\n    // init event\r\n    this.emit('init');\r\n  }\r\n\r\n  initSymbols() {\r\n    // assets\r\n    state.symbols = [];\r\n    // const sheet = PIXI.loader.resources.symbols;\r\n    const sheet = this.loader.resources.symbols;\r\n\r\n    // use textures from assets\r\n    Object.entries(sheet.textures).forEach(([id, texture]) => {\r\n      state.symbols.push({ id, texture });\r\n    });\r\n  }\r\n\r\n  initSounds() {\r\n    // // use textures from assets\r\n    Object.values(this.loader.resources)\r\n      .filter(asset => asset.isAudio)\r\n      .forEach(asset => {\r\n        state.sounds[asset.name] = new Sound(asset.data);\r\n      });\r\n  }\r\n\r\n  initPaylines() {\r\n    const { paylines, config } = this;\r\n\r\n    // find paylines for current game size\r\n\r\n    const found = config.paylines.find(\r\n      data => data.reels === config.reels && data.lines === config.lines\r\n    );\r\n\r\n    if (!found) {\r\n      throw new Error(`Paylines for current game size not found`);\r\n    }\r\n\r\n    paylines.push(...found.paylines);\r\n  }\r\n\r\n  createSlot(width, height) {\r\n    const { config, onSpinComplete, updateButtonStatus } = this;\r\n    const slot = new Slot({\r\n      ...config,\r\n      width,\r\n      height,\r\n    });\r\n\r\n    // handlers\r\n    slot.on('slotspincomplete', onSpinComplete);\r\n    slot.on('slotspininit', updateButtonStatus);\r\n\r\n    return this.addChild(slot);\r\n  }\r\n\r\n  createPaylines(width, height) {\r\n    const paylines = new Paylines(width, height);\r\n\r\n    // handlers\r\n    // paylines.btnSpin.on('pointertap', () => this.togglePayline()));\r\n    return this.addChild(paylines);\r\n  }\r\n\r\n  createInfo(width, height) {\r\n    const info = new Info(width, height);\r\n    return this.addChild(info);\r\n  }\r\n\r\n  createControls(width, height) {\r\n    const { spin, spinAuto, cheatSpin, wagerUp, wagerDown, loadScreen } = this;\r\n\r\n    const controls = new Controls(width, height);\r\n\r\n    // handlers\r\n    controls.btnSpin.on('pointertap', spin);\r\n    controls.btnAutoSpin.on('pointertap', spinAuto);\r\n    controls.btnCheatSpin.on('pointertap', cheatSpin);\r\n    controls.btnWagerUp.on('pointertap', wagerUp);\r\n    controls.btnWagerDown.on('pointertap', wagerDown);\r\n    controls.btnPaytable.on('pointertap', () => {\r\n      loadScreen('paytable');\r\n    });\r\n\r\n    return this.addChild(controls);\r\n  }\r\n\r\n  onSpinComplete(result) {\r\n    const { autoSpinMode, spin } = this;\r\n\r\n    // get win paylines\r\n    console.log(`GameScreen.onSpinComplete:: result: ${result}`);\r\n    this.updateButtonStatus();\r\n\r\n    // game over\r\n    if (this.balance < this.config.wager) {\r\n      this.loadScreen('gameover');\r\n      state.sounds.gameover.play();\r\n      return;\r\n    }\r\n\r\n    // victory\r\n    if (Math.random() > 0.6) {\r\n      state.sounds.victory.play();\r\n    }\r\n\r\n    // autospin\r\n    if (autoSpinMode) setTimeout(spin, state.autoSpinDelay);\r\n  }\r\n\r\n  genRandomResult() {\r\n    const { config } = this;\r\n    const { symbols } = state;\r\n\r\n    const result = [];\r\n    // generation of random indexes of symbols array\r\n    for (let i = 0; i < config.lines; i += 1) {\r\n      result[i] = [];\r\n      for (let j = 0; j < config.reels; j += 1) {\r\n        const index = Math.floor(Math.random() * symbols.length);\r\n        result[i][j] = index;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  genSuccessedResult() {\r\n    const { config } = this;\r\n    const { symbols } = state;\r\n\r\n    const result = [];\r\n    const winLine = Math.floor(Math.random() * config.lines);\r\n    const winSymbolIndex = Math.floor(Math.random() * config.lines);\r\n    // gen\r\n    for (let i = 0; i < config.lines; i += 1) {\r\n      result[i] = [];\r\n      for (let j = 0; j < config.reels; j += 1) {\r\n        const index = i === winLine ? winSymbolIndex : Math.floor(Math.random() * symbols.length);\r\n        result[i][j] = index;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  spinAuto() {\r\n    const { slot, autoSpinMode } = this;\r\n    this.autoSpinMode = !autoSpinMode;\r\n    // Run\r\n    if (!slot.isSpining) this.spin();\r\n  }\r\n\r\n  cheatSpin() {\r\n    const { slot, balance, wager } = this;\r\n    if (slot.isSpining) return;\r\n\r\n    if (balance >= wager) {\r\n      this.balance -= this.wager;\r\n      const result = this.genSuccessedResult();\r\n      slot.spinReels(result);\r\n    }\r\n  }\r\n\r\n  spin() {\r\n    const { slot, balance, wager } = this;\r\n    if (slot.isSpining) return;\r\n\r\n    if (balance >= wager) {\r\n      this.balance -= this.wager;\r\n      const result = this.genRandomResult();\r\n      slot.spinReels(result);\r\n    }\r\n  }\r\n\r\n  wagerUp() {\r\n    const { config } = this;\r\n    this.wager += config.wagerStep;\r\n  }\r\n\r\n  wagerDown() {\r\n    const { config } = this;\r\n    this.wager -= config.wagerStep;\r\n  }\r\n\r\n  update(delta) {\r\n    const { slot /* controls */ } = this;\r\n    if (slot) slot.update(delta);\r\n    // if (info) info.update(delta);\r\n    // if (controls) controls.update(delta);\r\n  }\r\n\r\n  get balance() {\r\n    return this.balanceValue;\r\n  }\r\n\r\n  set balance(value) {\r\n    const { config, info } = this;\r\n    // set balance\r\n    this.balanceValue = value;\r\n    info.balanceLabel.text = `Balance: ${value}`;\r\n\r\n    // decrease wager\r\n    if (value < this.wager) {\r\n      this.wager = config.wager;\r\n    }\r\n    this.updateButtonStatus();\r\n  }\r\n\r\n  get wager() {\r\n    return this.wagerValue;\r\n  }\r\n\r\n  set wager(value) {\r\n    const { config, info, balance } = this;\r\n    if (value <= balance && value <= config.maxWager && value >= config.wager) {\r\n      this.wagerValue = value;\r\n      info.wagerLabel.text = `Wager: ${value}`;\r\n    }\r\n    this.updateButtonStatus();\r\n  }\r\n\r\n  updateButtonStatus() {\r\n    const { config, balance, wager, slot, controls } = this;\r\n    const { btnSpin, btnCheatSpin, btnWagerUp, btnWagerDown } = controls;\r\n\r\n    // btnWagerUp availability\r\n    if (slot.isSpining || balance < wager + config.wagerStep || wager === config.maxWager)\r\n      btnWagerUp.disable();\r\n    else btnWagerUp.enable();\r\n\r\n    // btnWagerDown availability\r\n    if (slot.isSpining || balance < wager || wager <= config.wager) btnWagerDown.disable();\r\n    else btnWagerDown.enable();\r\n\r\n    // btnSpin availability\r\n    if (slot.isSpining || balance <= 0) btnSpin.disable();\r\n    else btnSpin.enable();\r\n\r\n    // btnSpin availability\r\n    if (slot.isSpining || balance <= 0) btnCheatSpin.disable();\r\n    else btnCheatSpin.enable();\r\n\r\n    // game over\r\n    if (balance <= 0) {\r\n      controls.btnAutoSpin.disable();\r\n      this.autoSpinMode = false;\r\n    }\r\n  }\r\n\r\n  get win() {\r\n    return this.winValue;\r\n  }\r\n\r\n  set win(value) {\r\n    const { info } = this;\r\n    this.winValue = value;\r\n    info.winLabel.text = `Win: ${value}`;\r\n  }\r\n\r\n  get autoSpinMode() {\r\n    return this.autoSpinValue;\r\n  }\r\n\r\n  set autoSpinMode(value) {\r\n    const { controls } = this;\r\n    this.autoSpinValue = !!value;\r\n    // set button fill\r\n    const fill = this.autoSpinValue ? ['#ffffff', '#00ff99'] : ['#ffffff', '#cccccc'];\r\n    controls.btnAutoSpin.setFill(fill);\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\nimport Screen from './Screen';\r\nimport Paylable from '../components/Paytable';\r\nimport Label from '../components/Label';\r\nimport Button from '../components/Button';\r\nimport { spaceAroundX } from '../helpers';\r\n\r\nexport default class PaytableScreen extends Screen {\r\n  constructor(ctx) {\r\n    super(ctx);\r\n    this.loader.once('complete', () => this.init());\r\n  }\r\n\r\n  init() {\r\n    const { app, loadScreen } = this;\r\n\r\n    const height = 50;\r\n\r\n    // frame\r\n    const frame = new PIXI.Graphics();\r\n    frame.beginFill(0xc5defd);\r\n    frame.drawRect(0, 0, app.screen.width, height);\r\n    frame.endFill();\r\n    this.addChild(frame);\r\n\r\n    // label\r\n    const label = new Label('Paytable');\r\n    label.style.fontSize = 30;\r\n    frame.addChild(label);\r\n\r\n    // button\r\n    const button = new Button('Back to game');\r\n    frame.addChild(button);\r\n\r\n    // back to game\r\n    button.on('pointertap', () => {\r\n      loadScreen('game');\r\n    });\r\n\r\n    // Positions\r\n    const elms = [label, button];\r\n    spaceAroundX(app.screen.width, height, ...elms);\r\n\r\n    // paylable\r\n    const paylable = new Paylable(app.screen.width, app.screen.height - height);\r\n    paylable.y = height;\r\n    this.addChild(paylable);\r\n\r\n    // Members\r\n    this.label = label;\r\n    this.button = button;\r\n    this.paylable = paylable;\r\n  }\r\n}\r\n","import * as PIXI from 'pixi.js';\r\n\r\nexport default class Screen extends PIXI.Container {\r\n  constructor(ctx) {\r\n    super();\r\n    this.ctx = ctx;\r\n    this.app = ctx.app;\r\n    this.config = ctx.config;\r\n    this.loadScreen = ctx.loadScreen;\r\n    // this.loader = new PIXI.loaders.Loader();\r\n    this.loader = ctx.loader;\r\n    // size\r\n    this.width = this.app.screen.width;\r\n    this.height = this.app.screen.height;\r\n    // TODO: resize\r\n  }\r\n\r\n  update() {}\r\n}\r\n","import multipliers from './data/multipliers.json';\r\n\r\nconst initialState = {\r\n  // size\r\n  root: '.root',\r\n  reels: 3,\r\n  lines: 3,\r\n  width: 640,\r\n  height: 480,\r\n  // money\r\n  // balance: 10000,\r\n  balance: 1500,\r\n  wager: 100,\r\n  wagerStep: 100,\r\n  maxWager: 500,\r\n  // interface\r\n  autoSpinDelay: 2000,\r\n  spinTime: 1000,\r\n  stopDelay: 200,\r\n  // data\r\n  paylines: [],\r\n  multipliers,\r\n  // Assets\r\n  sounds: {},\r\n  symbols: [],\r\n};\r\n\r\nclass State {\r\n  constructor() {\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    Object.assign(this, initialState);\r\n    this.symbols = [];\r\n  }\r\n}\r\n\r\nexport default new State();\r\n","import SlotGame from './SlotGame';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // Init game\r\n  const game = new SlotGame({\r\n    root: '.root',\r\n    reels: 3,\r\n    lines: 3,\r\n  });\r\n\r\n  // Generating buttons to create a game of various sizes\r\n  (function genStartGameButtons(...sizes) {\r\n    sizes.forEach(([reels, lines]) => {\r\n      const button = document.createElement('button');\r\n      button.textContent = `New game ${reels} x ${lines}`;\r\n      button.style.margin = `10px`;\r\n\r\n      // Reinit game\r\n      button.addEventListener('click', () => {\r\n        // remove old\r\n        window.game.destroy();\r\n        window.game = null;\r\n        // create new\r\n        const newGame = new SlotGame({\r\n          root: '.root',\r\n          reels,\r\n          lines,\r\n        });\r\n        window.game = newGame;\r\n      });\r\n      document.body.appendChild(button);\r\n    });\r\n  })([3, 3], [3, 5], [5, 5]);\r\n\r\n  // Handlers\r\n\r\n  // for debug\r\n  window.game = game;\r\n});\r\n","module.exports = PIXI;"],"sourceRoot":""}